<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>es6</title>
</head>
<body>

<script>

    /**
     * var / let / const 的用法
     */
    // let 声明的变量只在其声明的块或子块中可用（let的作用是块），可以替代立即执行函数使变量私有
    // var 声明的变量的作用域是整个封闭函数（var的作用域是函数）
    // const 声明创建一个常量（当value是对象时，可以改变对象中的内容），其作用域可以是全局或本地声明的块，通常情况下name用大写
    function varTest() {
        var x = 1;
        if (1) {
            var x = 2;  //  同样的变量
            console.log(x)  //  2
        }
        console.log(x)  //  2
    }
    function letTest() {
        let y = 3;
        if (1) {
            let y = 4;  //  不同的变量
            console.log(y)  //  4
        }
        console.log(y)  //  3
    }
    varTest()
    letTest()
    for(let i=1;i<=5;i++){
        console.log(i)    //  分别是 1,2,3,4,5
    }
    ~function() {
        console.log(v); //  undefined
        // console.log(l); //  ReferenceError: l is not defined
        var v = 1;
        let l = 2;  //  let 变量声明不会提升
    }();
    const MY_FAV = 7;
    // MY_FAV = 20;    //TypeError: Assignment to constant variable.
    // const MY_FAV = 20;  //SyntaxError: Identifier 'MY_FAV' has already been declared 不可重新声明
    // var MY_FAV = 20;    //SyntaxError: Identifier 'MY_FAV' has already been declared
    // let MY_FAV = 20;    //SyntaxError: Identifier 'MY_FAV' has already been declared
    if (MY_FAV === 7){
        const MY_FAV = 20;    // 块级作用域
        // var MY_FAV = 20;    //SyntaxError: Identifier 'MY_FAV' has already been declared  var声明变量会提升到全局
        console.log(MY_FAV) //  20
    }
    console.log(MY_FAV) //  7
    // const FOO;  //SyntaxError: Missing initializer in const declaration  必须进行初始化
    const OBJ = {"key": "value"};   //  可以是对象
    // OBJ = {"key1": "value1"}    //TypeError: Assignment to constant variable.
    OBJ.key = "value-o" // 对象属性可变动
    const ARR = []; //  可以是数组
    ARR.push(1);    //  可以向数组填充数据
    // ARR = [2];  //TypeError: Assignment to constant variable.
    console.log('-------------');
    /*
    * ... 指扩展运算符(spread)，表示一个数组的参数列表，
    * 主要用于获取传递给函数的参数列表；数组构造和解构
    * */
    // console.log(...[1,2,3]) // 1 2 3
    // function a(...args){
    //     return args.length;
    // }
    // console.log(a('hello', 'q', 1)) // 3
    // let no = [1,2];
    // let str = ['s','b'];
    // console.log([...no, ...str])    //  [1, 2, "s", "b"] 构造数组
    // str.push(...no)
    // console.log(str)    //  ["s", "b", 1, 2]
    // let other;
    // [str, ...other] = no;
    // console.log(other)  // [2] 解构数组
    // console.log([...'hello']) //  ["h", "e", "l", "l", "o"] 扩展运算符
    console.log('-------------');
    /**
     *  模板字符串
     */
    var a = 'a';
    // console.log(`hello,${1+1},${a}`)
    var obj = {a: "a", b: "b", c: "c"};
    for (var i = 0 in obj) {
        console.log(obj[i]);
    }
    console.log('-------------');

    /**
     * 箭头符
     */
    let array = ['a','b','c']
    //传统写法
    array.forEach(function(v,i){
        // console.log(`${v} + ${i}`)
    })
    //ES6
    // array.forEach((value,index) =>{
    //     console.log(`${value} + ${index}`)
    // })

    /**
     * do 表达式
     *
     */
    console.log('-------------');
    {let t = 123}
    // console.log(t) //thirdScriptError   Uncaught ReferenceError
    //在块级作用域以外，没有办法得到t的值，因为块级作用域不返回值，除非t是全局变量
    // let x = do let t = 123  //Uncaught SyntaxError
    // let x = do {
    //     let t = 123;
    // }
    // console.log(x.t)
    //变量x会得到整个块级作用域的返回值。
    function f() { console.log('I am outside!'); }

    (function () {
        if (false) {
            // 重复声明一次函数f
            function f() { console.log('I am inside!'); }
        }

        f();
    })();





</script>
</body>
</html>